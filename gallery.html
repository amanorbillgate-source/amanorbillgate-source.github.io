<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gallery</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<script>
  const toggle = document.getElementById("themeToggle");
  const systemDark = window.matchMedia("(prefers-color-scheme: dark)");

  function setTheme(theme) {
    if (theme === "dark") {
      document.body.classList.add("dark");
      toggle.textContent = "â˜€ï¸ Light mode";
    } else {
      document.body.classList.remove("dark");
      toggle.textContent = "ðŸŒ™ Dark mode";
    }
  }

  // 1ï¸âƒ£ Load saved preference OR system preference
  const savedTheme = localStorage.getItem("theme");

  if (savedTheme) {
    setTheme(savedTheme);
  } else {
    setTheme(systemDark.matches ? "dark" : "light");
  }

  // 2ï¸âƒ£ Toggle manually (user choice overrides system)
  toggle.addEventListener("click", () => {
    const isDark = document.body.classList.contains("dark");
    const newTheme = isDark ? "light" : "dark";

    localStorage.setItem("theme", newTheme);
    setTheme(newTheme);
  });

  // 3ï¸âƒ£ React to system theme changes (ONLY if user hasnâ€™t chosen)
  systemDark.addEventListener("change", (e) => {
    if (!localStorage.getItem("theme")) {
      setTheme(e.matches ? "dark" : "light");
    }
  });
</script>
<header>
  <h1>Gallery</h1>
  <nav class="nav">
  <a href="index.html" class="nav-btn">Home</a>
  <a href="about.html" class="nav-btn">About</a>
  <a href="gallery.html" class="nav-btn">Gallery</a>
  <a href="contact.html" class="nav-btn">Contact</a>
</nav>
  <button id="themeToggle" class="theme-toggle">
  ðŸŒ™ Dark mode
</button>
</header>

<main>
  <h2>Public image gallery</h2>
  <div class="box">
    <img src="images/billy.jpg" alt="Billy">
    <img src="images/billy1.jpg" alt="Billy">
    <img src="images/billy2.jpg" alt="Billy">
    <img src="images/billy3.jpg" alt="Billy">
    <img src="images/billy4.jpg" alt="Billy">
  </div>

<footer>
  <p>Â© 2026 Billy</p>
</footer>

</body>
</html>